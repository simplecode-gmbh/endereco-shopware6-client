const s=Shopware.Classes.ApiService,{Application:c}=Shopware;class o extends s{constructor(t,n,i="endereco-shopware6-client"){super(t,n,i)}check(t){const n=this.getBasicHeaders({});return this.httpClient.post(`_action/${this.getApiBasePath()}/verify`,t,{headers:n}).then(i=>s.handleResponse(i))}}c.addServiceProvider("enderecoSW6ClientAPITest",e=>{const t=c.getContainer("init");return new o(t.httpClient,e.loginService)});const r=`<div> <sw-button-process :isLoading="isLoading" :processSuccess="isSaveSuccessful" @process-finish="saveFinish" @click="check" >{{ $tc('endereco-api-check-button.button') }}</sw-button-process> </div>`,{Component:a,Mixin:h}=Shopware;a.register("endereco-api-check-button",{template:r,props:["label"],inject:["enderecoSW6ClientAPITest"],mixins:[h.getByName("notification")],data(){return{isLoading:!1,isSaveSuccessful:!1}},computed:{pluginConfig(){let e=this.$parent;for(;e.actualConfigData===void 0;)e=e.$parent;return e.actualConfigData.null}},methods:{saveFinish(){this.isSaveSuccessful=!1},check(){this.isLoading=!0,this.enderecoSW6ClientAPITest.check(this.pluginConfig).then(e=>{e.success?(this.isSaveSuccessful=!0,this.createNotificationSuccess({title:this.$tc("endereco-api-check-button.title"),message:this.$tc("endereco-api-check-button.success")})):this.createNotificationError({title:this.$tc("endereco-api-check-button.title"),message:this.$tc("endereco-api-check-button.error")}),this.isLoading=!1})}}});const l={"endereco-api-check-button":{title:"API Pr端fung",success:"Verbindung wurde erfolgreich gepr端ft",error:"Verbindung konnte nicht hergestellt werden. Bitte pr端fe den API Key und die Server URL",button:"Verbindung zum Endereco Server pr端fen"}},u={"endereco-api-check-button":{title:"API Check",success:"Connection was successfully tested",error:"Connection could not be established. Please check the api key and the server url",button:"Test API connection"}};Shopware.Locale.extend("de-DE",l);Shopware.Locale.extend("en-GB",u);
//# sourceMappingURL=endereco-shopware6-client-SfqM2l1l.js.map
